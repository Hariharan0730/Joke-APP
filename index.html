<!DOCTYPE html
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joke Generator </title>
</head>
<body>
    <div id="container">

        <h1 id="joke-text">Joke Generator</h1>

        <div id="joke-container">

            <p id="joke-p">Click a button to generate a joke</p>

            <button id="joke-btn">Click to generate</button>

        </div>

    </div>

    <script>

        const jokeText = document.getElementById("joke-p");
        const jokeBtn = document.getElementById("joke-btn");
        jokeBtn.addEventListener("click", fetchJoke)

        async function fetchJoke() {
            try {
                const response = await fetch("https://v2.jokeapi.dev/joke/Any")

                if (!response.ok) {
                    throw new Error("Failed to fetch a joke")
                }

                const jokeData = await response.json()
                
                console.log(jokeData);
                
            if (jokeData.type === "single"){
                jokeText.textContent = jokeData.joke-p
            }

            else{
                jokeText.textContent =jokeData.setup + " " + jokeData.delivery
            }

            }
            catch(error){
                console.log(error);
            }
        }
    </script>
</body>

</html>